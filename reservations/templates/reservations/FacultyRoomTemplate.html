<link href="/static/css/styles.css" rel="stylesheet" type="text/css">
{% extends 'default_layout.html' %}
{% load django_bootstrap_breadcrumbs %}
{% load crispy_forms_tags %}
{% block breadcrumbs %}
    {% breadcrumb "Strona główna" "/" %}
    {% breadcrumb "Sale" "/classrooms/" %}
    {% breadcrumb classroom.opis "/reservations/room={{ classroom.id }}" %}
{% endblock %}
{% block contents %}
    <div class="jumbotron text-center rounded border border-primary margin10px shadow-lg p-3 mb-5 bg-white rounded kolor">
        <h1 class="display-4">{{ classroom_type }} <b>{{ classroom.opis }}</b></h1>
        {#        <h2 class="text-muted">{{ classroom_type }}</h2>#}
        <h3 class="text-muted">Wydział: {{ classroom.id_wydzialu.nazwa_wydzialu }}</h3>
    </div>

    <form class="margin10px" method="post" role="form">
        {% csrf_token %}
        <div class="form-group">
            <div id="calendar">
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        var calendarEl = document.getElementById('calendar');
                        var calendar = new FullCalendar.Calendar(calendarEl, {
                            selectable: true,
                            headerToolbar: {
                                left: 'prev,next today',
                                center: 'title',
                                right: 'dayGridMonth,timeGridWeek,timeGridDay'
                            },
                            dateClick: function (info) {
                                alert('clicked ' + info.dateStr);
                            },
                            select: function (info) {
                                alert('selected ' + info.startStr + ' to ' + info.endStr);
                            },
                            events: [
                                {% for i in events %}
                                    {
                                        title: "{{ i.id_pomieszczenia }}",
                                        start: "{{ i.data_od|date:'c'}}",
                                        end: "{{ i.data_do|date:'c' }}"
                                    },
                                {% endfor %}
                            ]
                        });
                        calendar.render();
                    });
                </script>
            </div>
            <div class="marginleftright" type="submit" id="add-btn" style="clear: both;">
                <button class="btn btn-primary">ZAREZERWUJ</button>
            </div>
        </div>
    </form>

    {% if messages %}
        <div class="alert alert-dismissible alert-warning messages">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            {% for message in messages %}
                <strong> {{ message }}</strong>
            {% endfor %}
        </div>
    {% endif %}

{% endblock contents %}